<h3>Duration By Day</h3>
<pre>
  # ViewsController
  def duration_by_day
    data = [:maximum, :minimum].map do |m|
      {name: m.to_s, data: View.group_by_day(:created_at, format: "%B %d, %Y").send(m, :duration)}
    end
    render json: data.chart_json
  end
</pre>
<pre>
  <%= "<%= line_chart duration_by_day_path %"+">" %>
</pre>
<%= bar_chart duration_by_day_path %>

<h3>Duration By OS</h3>
<pre>
  # ViewsController
  def duration_by_os
    data = [:maximum, :minimum].map do |m|
      {name: m.to_s, data: View.group(:os).order(:os).send(m, :duration)}
    end
    render json: data.chart_json
  end
</pre>
<pre>
  <%= "<%= line_chart duration_by_os_path %"+">" %>
</pre>
<%= bar_chart duration_by_os_path %>

<h3>Duration By Browser</h3>
<pre>
  # ViewsController
  def duration_by_browser
    data = [:maximum, :minimum].map do |m|
      {name: m.to_s, data: View.group(:browser).order(:browser).send(m, :duration)}
    end
    render json: data.chart_json
  end
</pre>
<pre>
  <%= "<%= line_chart duration_by_browser_path %"+">" %>
</pre>
<%= bar_chart duration_by_browser_path %>

<h3>Duration By Country</h3>
<pre>
  # ViewsController
  def duration_by_country
    data = [:maximum, :minimum].map do |m|
      {name: m.to_s, data: View.group(:country).order(:country).send(m, :duration)}
    end
    render json: data.chart_json
  end
</pre>
<pre>
  <%= "<%= line_chart duration_by_country_path, height: \"800px\" %"+">" %>
</pre>
<%= bar_chart duration_by_country_path, height: "800px" %>